(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{20:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(2),u=n(15),a=n.n(u),r=n(6),i=n(3),o=(n(20),n(4)),s=n.n(o),l="api/persons",j=function(){return s.a.get(l).then((function(e){return e.data}))},d=function(e){return s.a.post(l,e).then((function(e){return e.data}))},b=function(e){return s.a.delete("".concat(l,"/").concat(e))},f=function(e,t){return s.a.put("".concat(l,"/").concat(t),e).then((function(e){return e.data}))},h=n(0),m=function(e){var t=e.message;return null===t?null:Object(h.jsx)("div",{className:"error",children:t})},O=function(e){var t=e.message;return null===t?null:Object(h.jsx)("div",{className:"successful",children:t})},x=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],u=t[1],a=Object(c.useState)(" some error "),o=Object(i.a)(a,2),s=o[0],l=o[1],x=Object(c.useState)(""),p=Object(i.a)(x,2),v=p[0],g=p[1];Object(c.useEffect)((function(){j().then((function(e){u(e)}))}),[]);var w=Object(c.useState)(""),y=Object(i.a)(w,2),S=y[0],k=y[1],C=Object(c.useState)(""),N=Object(i.a)(C,2),T=N[0],D=N[1],E=Object(c.useState)(""),J=Object(i.a)(E,2),L=J[0],B=J[1],I=function(e){f(e,e.id).then((function(t){u(n.map((function(n){return n.id===e.id?t:n})))})).catch((function(t){l("".concat(e.name," is already removed")),setTimeout((function(){l(null)}),5e3)}))};return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Phonebook"}),Object(h.jsx)(m,{message:s}),Object(h.jsx)("h1",{children:"Test"}),Object(h.jsxs)("form",{children:["filter show with"," ",Object(h.jsx)("input",{value:L,onChange:function(e){B(e.target.value)},className:"input-test"})]}),Object(h.jsx)("h2",{children:"add a new"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={name:S,number:T};if(n.some((function(e){return e.name===t.name}))){alert("".concat(S," is already exited")),l("".concat(S," is already exited")),setTimeout((function(){l(null)}),5e3);var c=n.find((function(e){return e.name===S&&e.phone!==T})),a=Object(r.a)(Object(r.a)({},c),{},{number:T});if(null!==c)!0===window.confirm("".concat(S," is already exited,do you want to replace it?"))&&I(a)}else d(t).then((function(e){return u(n.concat(e))})),g("".concat(S," added successful !")),setTimeout((function(){g(null)}),5e3);k(""),D("")},children:[Object(h.jsxs)("div",{children:["name: ",Object(h.jsx)("input",{value:S,onChange:function(e){k(e.target.value)}}),"number: ",Object(h.jsx)("input",{value:T,onChange:function(e){D(e.target.value)}})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",children:"add"})})]}),Object(h.jsx)("h2",{children:"Numbers"}),n&&n.filter((function(e){return!L||e.name.toLowerCase().includes(L.toLowerCase())})).map((function(e){return Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:[e.name," ",e.number,Object(h.jsx)("button",{onClick:function(){return function(e){window.confirm("Delete ".concat(e.name," ?"))&&b(e.id).then((function(){j().then((function(e){return u(e)}))}))}(e)},children:"delete"})]},e.id)})})),Object(h.jsx)(O,{message:v})]})};a.a.render(Object(h.jsx)(x,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.ad1d77d1.chunk.js.map